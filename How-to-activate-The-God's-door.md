## 如何开启阴阳之门

### 阴阳之门的用途

1. 可以大幅优化 太极 创建应用和升级应用的流程；不再需要手动确认，整个流程可以一气呵成。
2. 额外提供类似冰箱的冻结功能；可以冻结和隐藏应用。

### 开启步骤

0. 首先确保您已安装太极，并且您知道如何操作 adb 命令。
1. 进入手机「设置 - 帐户」，删除 所有 的帐户，包括你的 Google 帐户（之后可以再登录回来）。
2. 如果您之前设置过多用户或手机自带访客模式、应用双开等，也需要一并关闭或删除（之后可以打开）。
3. **在电脑上执行命令： `adb shell dpm set-device-owner me.weishu.exp/.DeviceAdmin` （请复制，勿手输）**
4. 如果显示 Success 之类的字样，那么表明阴阳之门已经开启，也可以把之前删除的帐号加回来了。

### 常见问题：

#### 通过ADB设置的重启会失效吗？

不会。设置一次之后永久有效，不论是升级太极版本还是升级系统版本都不会失效；除非你卸载太极重新安装或者把系统恢复出厂设置。

#### 未设置成功？

- 问：提示 “Not allowed to ... already several accounts on the device”
- 答：第 1 步的账户没删干净，请注销您手机上所有的账户，包括 Google 账号和系统自带的如小米账户、三星账户等。注：Xperia 或 ZUK 手机在设置时请拔出 SIM 卡，之后再插入。

- 问：提示 “Trying to set the device owner, but device owner is already set.”
- 答：你手机中可能安装有 Island，冰箱，小黑屋等应用并给了它设备管理员权限（如Island的皇帝之名，冰箱的免Root模式之一等）。很遗憾，系统中的设备管理员只能有一个；如果你需要开启太极的阴阳之门，需要收回其他应用的设备管理员权限。

- 问：提示 “Not allowed to ... already several users on the device”
- 答：第 2 步的用户没有删除干净。

- 问：提示 “android.os.DeadObjectException ...”
- 答：尝试更换数据线或重启手机。

- 问：MIUI 用户提示 “Neither user xxx nor current process has android.permission.MANAGE_DEVICE_ADMINS”
- 答：MIUI 用户请手动在系统设置- 开发者设置里，开启「USB 调试（安全设置）」。

- 问：我尝试在安卓设置-设备管理器设置中启用太极以代替以上设置步骤，但是发现无法使用，怎么办？
- 答：设备管理员不等于设备管理器，启用设备管理器也无法启动阴阳之门。

#### 已设置成功，但是？

- 问：设置完成后手机通知栏出现提示「手机被管理」，这是正常的吗？
- 答：正常的，这正是阴阳之门的工作原理。

- 问：我不想用了，然后发现卸载不了？
- 答：请先移除所有在阴阳之门内部的应用，然后到太极设置中取消设备管理员，然后卸载。

#### 国产手机及三星系统请注意：

国产手机系统时常修改 Android 底层，做出一些不符合规定的修改，因此其与设备管理员模式的兼容性或多或少存在一些问题，常见如下：

- 每次冻结 App 弹出卸载提示，解冻弹出权限请求（华为、锤子）
- 通知栏闪烁「设备管理员已开启，点击关闭」（OPPO、VIVO）
- 自带的双开无法使用（华为、MIUI）
- 安全文件夹 和 虹膜识别等功能被禁用（三星）
- 偶尔刚解冻的 App 无法联网（一加等）
- 状态栏和锁屏显示「设备由太极管理」

如不能接受上述问题，请考虑使用其他模式或不要开启阴阳之门。

设备管理员模式不需要反复连接电脑设置，一次配置，终身有效，只要不卸载太极或是刷机，都可以正常使用。

（Forked from Icebox-Docs)